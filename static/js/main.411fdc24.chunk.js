(this["webpackJsonp06-todoapp09"]=this["webpackJsonp06-todoapp09"]||[]).push([[0],{46:function(t,e,n){"use strict";n.r(e);var r=n(2),o=n(19),c=n.n(o),a=n(10),u=n(9),i=n(21),s=n(20),d=n(3),j=n(5),l=n(6),b=n.n(l),f="http://localhost:3100/todos",O=function(){var t=Object(j.a)(Object(d.a)().mark((function t(){var e;return Object(d.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.a.get(f);case 2:return e=t.sent,t.abrupt("return",e.data);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),p=function(){var t=Object(j.a)(Object(d.a)().mark((function t(e){var n;return Object(d.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.a.post(f,e);case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),h=function(){var t=Object(j.a)(Object(d.a)().mark((function t(e){return Object(d.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.a.delete("".concat(f,"/").concat(e));case 2:return t.abrupt("return",e);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),m=function(){var t=Object(j.a)(Object(d.a)().mark((function t(e,n){var r;return Object(d.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.a.put("".concat(f,"/").concat(e),n);case 2:return r=t.sent,t.abrupt("return",r.data);case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),x=n(0),v=Object(r.memo)((function(t){var e=t.title,n=t.as;return"h1"===n?Object(x.jsx)("h1",{children:e}):"h2"===n?Object(x.jsx)("h2",{children:e}):Object(x.jsx)("p",{children:e})})),T=function(t){var e=t.buttonText,n=t.inputEl,r=t.handleAddTodoListItem;return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("textarea",{ref:n}),Object(x.jsx)("button",{onClick:r,children:e})]})},L=function(t){var e=t.todo,n=t.toggleTodoListItemStatus,r=t.deleteTodoListItem;return Object(x.jsxs)("li",{children:[e.content,Object(x.jsx)("button",{onClick:function(){return n(e.id,e.done)},children:e.done?"\u672a\u5b8c\u4e86\u30ea\u30b9\u30c8\u3078":"\u5b8c\u4e86\u30ea\u30b9\u30c8\u3078"}),Object(x.jsx)("button",{onClick:function(){return r(e.id)},children:"\u524a\u9664"})]})},g=function(t){var e=t.todoList,n=t.toggleTodoListItemStatus,r=t.deleteTodoListItem,o=t.title,c=t.as;return Object(x.jsx)(x.Fragment,{children:0!==e.length&&Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(v,{title:o,as:c}),Object(x.jsx)("ul",{children:e.map((function(t){return Object(x.jsx)(L,{todo:t,toggleTodoListItemStatus:n,deleteTodoListItem:r},t.id)}))})]})})};var I=function(){var t=function(){var t=Object(r.useState)([]),e=Object(i.a)(t,2),n=e[0],o=e[1];return Object(r.useEffect)((function(){O().then((function(t){o(Object(u.a)(t).reverse())}))}),[]),{todoList:n,toggleTodoListItemStatus:function(t,e){var r=n.find((function(e){return e.id===t})),c=Object(a.a)(Object(a.a)({},r),{},{done:!e});m(t,c).then((function(t){var e=n.map((function(e){return e.id!==t.id?e:t}));o(e)}))},addTodoListItem:function(t){var e={content:t,id:Object(s.a)(),done:!1};return p(e).then((function(t){o([t].concat(Object(u.a)(n)))}))},deleteTodoListItem:function(t){h(t).then((function(t){var e=n.filter((function(e){return e.id!==t}));o(e)}))}}}(),e=t.todoList,n=t.addTodoListItem,o=t.toggleTodoListItemStatus,c=t.deleteTodoListItem,d=Object(r.useRef)(null),j=e.filter((function(t){return!t.done})),l=e.filter((function(t){return t.done}));return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(v,{title:"TODO\u9032\u6357\u7ba1\u7406",as:"h1"}),Object(x.jsx)(T,{buttonText:"+ TODO\u3092\u8ffd\u52a0",inputEl:d,handleAddTodoListItem:function(){""!==d.current.value&&(n(d.current.value),d.current.value="")}}),Object(x.jsx)(g,{todoList:j,toggleTodoListItemStatus:o,deleteTodoListItem:c,title:"\u672a\u5b8c\u4e86TODO\u30ea\u30b9\u30c8",as:"h2"}),Object(x.jsx)(g,{todoList:l,toggleTodoListItemStatus:o,deleteTodoListItem:c,title:"\u5b8c\u4e86TODO\u30ea\u30b9\u30c8",as:"h2"})]})},w=document.getElementById("root");c.a.render(Object(x.jsx)(r.StrictMode,{children:Object(x.jsx)(I,{})}),w)}},[[46,1,2]]]);
//# sourceMappingURL=main.411fdc24.chunk.js.map